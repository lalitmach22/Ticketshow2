{% extends 'base.html' %}

{% block title %}Create Show - Ticketshow{% endblock %}

{% block content %}
    <h1>Create Show</h1>
    <p>Logged in as {{ current_user.username }}</p>
    
 
    <form method="post" enctype="multipart/form-data">
        {{ form.hidden_tag() }}
        <div class="form-group">
            {{ form.name.label(class="form-control-label") }}
            {{ form.name(class="form-control") }}
            {% for error in form.name.errors %}
                <span class="text-danger">{{ error }}</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.rating.label(class="form-control-label") }}
            {{ form.rating(class="form-control", type="number", step="1") }}
            {% for error in form.rating.errors %}
                <span class="text-danger">{{ error }}</span>
            {% endfor %}
        </div>
        
        <div class="form-group">
            {{ form.tags.label(class="form-control-label") }}
            {{ form.tags(class="form-control") }}
            {% for error in form.tags.errors %}
                <span class="text-danger">{{ error }}</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.ticket_price.label(class="form-control-label") }}
            {{ form.ticket_price(class="form-control", type="number", step="1") }}
            {% for error in form.ticket_price.errors %}
                <span class="text-danger">{{ error }}</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.venue.label(class="form-control-label") }}
            {{ form.venue(class="form-control") }}
            {% for error in form.venue.errors %}
                <span class="text-danger">{{ error }}</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.image.label(class="form-control-label") }}
            {{ form.image(class="form-control-file") }}
            {% if show.image_path %}
                <img src="{{ url_for('static', filename='uploads/' + show.image_path) }}" alt="Show Image">
            {% endif %}
            {% for error in form.image.errors %}
                <span class="text-danger">{{ error }}</span>
            {% endfor %}
        </div>
        <button type="submit" class="btn btn-primary">Create</button>
    </form>
   
    <br>
    <a href="{{ url_for('routes.admin_dashboard') }}">Go to Admin Home Page</a>
    <br>
    <a href="{{ url_for('login.logout') }}">Log Out</a>
</br>
{% endblock %}
